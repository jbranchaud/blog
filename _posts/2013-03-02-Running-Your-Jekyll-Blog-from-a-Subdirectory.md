---
layout: post
title: Running Your Jekyll Blog from a Subdirectory
summary: A tutorial on getting a Jekyll-powered blog to run from a subdirectory such as '/blog/'
hn-discussion:
tags:
- jekyll
---

A pretty common practice for self-hosted blogs is to host them below
some subdirectory like `/blog/`. That is exactly what I am doing with
the blog that powers this very post. My domain is `joshbranchaud.com`,
my blog index can be found at `joshbranchaud.com/blog/`, and a particular
blog post (such as this one) can be be found at something like
`joshbranchaud.com/blog/2013/03/02/Running-Your-Jekyll-Blog-from-a-Subdirectory.html`.

If you are blogging with
[Jekyll](https://github.com/mojombo/jekyll)
and you want to run your blog from a subdirectory, then keep reading.

The [Jekyll wiki](https://github.com/mojombo/jekyll/wiki/Usage) is extremely
helpful at getting your blog up and running,
but it assumes that you are going to run your blog from the
top-level directory. In this post, I will present two approaches to
running your blog from a subdirectory.

<!-- more -->

## Solution 1

If you are simply powering only your blog with Jekyll and plan to
maintain any other portions of your website separately, then this
is the solution you are interested in.

Create a directory called `blog` in your public html directory
(that is, in the directory that your domain points to). Just
ssh into your server, navigate to the directory where your site
is currently being deployed, and do a `mkdir`.

Assuming you are using some sort of
[deployment scheme](https://github.com/mojombo/jekyll/wiki/Deployment),
you need to have that deployment scheme tell Jekyll to deploy to the
`blog` directory instead of the directory it is currently using.

That's it. You are now running your blog (alone) from the `blog`
subdirectory.

*Note: Make sure to update any links that you had pointing to your
blog to reflect the new URL.*

## Solution 2

This is a slightly more complex solution that allows you to power
your entire website with Jekyll and still have the blog part appear
in the `blog` subdirectory.

Start by creating a directory locally where you have your Jekyll
blog setup. This directory will sit along side `_posts`, `_site`,
`css`, etc. This is only going to hold non-post files such as
`index.html`. The blog posts will still go in the `_posts` directory.
The next paragraph should shed light on why this is so.

Next, we are going to tell Jekyll that we want it to take our blog posts
and put them inside a directory called `blog` when it generates them.
This can be done by adding a permalink setting to the \_config.yml file.
Add a line like this to the top of the file:
`permalink: /blog/:categories/:year/:month/:day/:title.html`. Let me
explain. The default (which you have probably been using) puts posts
in a directory structure starting with the category, followed by
the date, and finally with the title of the blog post as the name of
the html file. Which, spelled out would be
`/:categories/:year/:month/:day/:title.html`. Does that look familiar?
Sure does. It is what we have used above, sans the `/blog` part. We
are essentially emulating the default directory structure and while
adding our `blog` directory at the beginning.

Lastly, you are going to want to add an index.html file to the `blog`
directory that you created. This way, when a person goes to
`mydomain.com/blog/` they can see what blog posts you have to offer.
This index page is going to more or less mirror exactly what you had
setup originally for listing your blog posts.

With these changes in place, relaunch your server to account for the
change to the config file and see how you like your new setup. You will
notice that it is only your blog and blog posts that appear in the
`blog` subdirectory. The rest of your pages will remain accessible
from their original URLs.

*Note: Like the previous solution, you are going to want to update any
links to your posts (that aren't generated by Jekyll) so that you don't
get a bunch of 404s. If there are links to your blog that you cannot
update, then you may want to include some
[redirects](http://www.javascriptkit.com/howto/htaccess7.shtml)
in your htaccess file.*

## Summary

With these two straightforward solutions, you can quickly have your
Jekyll-powered blog deployed in a subdirectory. There are certainly
a number of other ways to accomplish because of Jekyll's power and
flexibility. Feel free to share your solutions in the comments below.

Have fun blogging with Jekyll!

